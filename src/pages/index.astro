---
import Layout from "@/layouts/Layout.astro";
import HeroCarousel from "@/components/HeroCarousel";
import LogoMarquee from "@/components/LogoMarquee";
import ButtonLink from "@/components/ui/ButtonLink.astro";
import { ChevronRight } from "lucide-react";
import { Image } from "astro:assets";
import { FacebookGallery } from "@/components/sections/FacebookGallery";
import { FacebookNews } from "@/components/sections/FacebookNews";

const companyLogos = [
  {
    name: "Maccaferri logo",
    image: "/images/convenios/logos/maccaferri.jpg",
    href: "https://www.maccaferri.com/",
  },
  {
    name: "Tecnovoladuras logo",
    image: "/images/convenios/logos/tecnovoladuras.png",
    href: "https://tecnovoladuras.com/",
  },
  {
    name: "Ideal Alambrec logo",
    image: "/images/convenios/logos/ideal-alambrec.png",
    href: "https://idealalambrec.bekaert.com/soluciones-para-la-construccion/mineria",
  },
  {
    name: "Teincomin logo",
    image: "/images/convenios/logos/teincomin.png",
    href: "https://teincomin.com/web/",
  },
];

const logos = [
  {
    name: "Intermodal Solutions Group logo",
    image: "/images/convenios/logos/intermodal-solutions-group.png",
  },
  {
    name: "Ministerio de Energ√≠a y Minas logo",
    image: "/images/convenios/logos/ministerio_de_energia_y_minas.png",
  },
  {
    name: "Ministerio de las telecomunicaciones y de la Sociedad de la Informaci√≥n logo",
    image: "/images/convenios/logos/mintel.png",
  },
  {
    name: "Camara de la peque√±a miner√≠a del Ecuador logo",
    image:
      "/images/convenios/logos/camara-de-la-pequena-mineria-del-ecuador.png",
  },
  {
    name: "QCS logo",
    image: "/images/convenios/logos/qcs.png",
  },
  {
    name: "Ibarra ciudad blanca logo",
    image: "/images/convenios/logos/ciudad-blanca.png",
  },
  {
    name: "RUDN University logo",
    image: "/images/convenios/logos/rudn-university.png",
  },
  {
    name: "Universidad Nacional de Loja logo",
    image: "/images/convenios/logos/universidad-nacional-de-loja.png",
  },
  {
    name: "Universidad T√©cnica de Machala logo",
    image: "/images/convenios/logos/universidad-tecninca-de-machala.png",
  },
  {
    name: "Women in Mining logo",
    image: "/images/convenios/logos/women-in-mining.png",
  },
];
---

<Layout
  title="AIME - Asociaci√≥n de Ingenieros de Minas del Ecuador"
  description="Somos una organizaci√≥n t√©cnica cient√≠fica que agrupa a profesionales de la industria minera ecuatoriana, con reconocimiento a nivel nacional e internacional. ¬°Forjemos juntos un futuro exitoso!"
>
  <HeroCarousel client:load />

  <!-- Noticias Section -->
  <section class="py-10">
    <div class="container mx-auto">
      <div class="flex flex-col md:flex-row md:items-end justify-between mb-12">
        <div>
          <div class="flex items-center space-x-2 mb-2">
            <div class="h-1 w-10 bg-primary"></div>
            <span
              class="text-sm font-medium uppercase tracking-wider text-muted-foreground"
            >
              Novedades
            </span>
          </div>
          <h2 class="text-3xl font-bold tracking-tighter sm:text-4xl mt-4">
            √öltima Noticia
          </h2>
          <p class="mt-4 text-muted-foreground max-w-3xl">
            Mantente informado con la publicaci√≥n m√°s reciente de AIME. Para ver
            m√°s publicaciones visita nuestra secci√≥n de revista.
          </p>
        </div>
      </div>
      <FacebookNews client:load />
    </div>
  </section>

  <!-- Galer√≠a Section -->
  <section class="py-16 md:py-24 bg-muted">
    <div class="container">
      <div class="flex flex-col md:flex-row md:items-end justify-between mb-12">
        <div>
          <div class="flex items-center space-x-2 mb-2">
            <div class="h-1 w-10 bg-primary"></div>
            <span
              class="text-sm font-medium uppercase tracking-wider text-muted-foreground"
            >
              Im√°genes
            </span>
          </div>
          <h2
            class="text-3xl font-bold tracking-tighter sm:text-4xl md:text-5xl"
          >
            Nuestra Galer√≠a
          </h2>
          <p class="mt-4 text-muted-foreground max-w-3xl">
            Explora momentos destacados de nuestras actividades, eventos y
            proyectos mineros.
          </p>
        </div>
        <ButtonLink
          href="/galeria"
          class="mt-4 mr-4 md:mt-0 self-start md:self-auto group"
        >
          Ver galer√≠a completa
          <ChevronRight
            className="ml-2 h-4 w-4 transition-transform duration-300 group-hover:translate-x-1"
          />
        </ButtonLink>
      </div>

      <div
        class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2"
      >
        <FacebookGallery limit={8} client:load />
      </div>
    </div>
  </section>

  <!-- Services/Activities Section 
  <section class="py-16 md:py-24">
    <div class="container">
      <div class="text-center mb-12">
        <div class="flex items-center space-x-2 mb-2 justify-center">
          <div class="h-1 w-10 bg-primary"></div>
          <span class="text-sm font-medium uppercase tracking-wider text-muted-foreground">
            Lo que ofrecemos
          </span>
          <div class="h-1 w-10 bg-primary"></div>
        </div>
        <h2 class="text-3xl font-bold tracking-tighter sm:text-4xl md:text-5xl">
          Nuestros Servicios
        </h2>
        <p class="mt-4 text-muted-foreground max-w-3xl mx-auto">
          AIME ofrece una variedad de servicios y actividades para apoyar a los profesionales de la miner√≠a y promover el desarrollo sostenible del sector.
        </p>
      </div>

      <div class="grid gap-8 md:grid-cols-2">
        <div class="bg-muted rounded-lg p-6 transition-all duration-300 hover:shadow-lg hover:bg-muted/70">
          <div class="text-4xl mb-4">üéì</div>
          <h3 class="text-xl font-semibold mb-3">
            Capacitaci√≥n y asistencia t√©cnica
          </h3>
          <p class="text-muted-foreground mb-4">
            Organizamos seminarios, conferencias y talleres dirigidos a profesionales del sector minero, enfocados en seguridad en operaciones, miner√≠a responsable y construcci√≥n.
          </p>
          <ButtonLink href="/servicios" variant="outline" class="group">
            Ver m√°s
            <ChevronRight className="ml-2 h-4 w-4 transition-transform duration-300 group-hover:translate-x-1" />
          </ButtonLink>
        </div>

        <div class="bg-muted rounded-lg p-6 transition-all duration-300 hover:shadow-lg hover:bg-muted/70">
          <div class="text-4xl mb-4">ü§ù</div>
          <h3 class="text-xl font-semibold mb-3">
            Convenios de cooperaci√≥n
          </h3>
          <p class="text-muted-foreground mb-4">
            Colaboramos con entidades gubernamentales y otras organizaciones para promover el desarrollo de proyectos y actividades en el √°mbito geol√≥gico-minero.
          </p>
          <ButtonLink href="/servicios" variant="outline" class="group">
            Ver m√°s
            <ChevronRight className="ml-2 h-4 w-4 transition-transform duration-300 group-hover:translate-x-1" />
          </ButtonLink>
        </div>
      </div>
    </div>
  </section>
-->

  <!-- Convenios Interinstitucionales Section -->
  <!-- Aval Section -->
  <section class="pt-16 pb-10 md:pt-24 md:pb-18">
    <div class="container">
      <div class="flex items-center space-x-2 mb-2 justify-center">
        <div class="h-1 w-10 bg-primary"></div>
        <span
          class="text-sm font-medium uppercase tracking-wider text-muted-foreground"
        >
          Alianzas estrat√©gicas
        </span>
        <div class="h-1 w-10 bg-primary"></div>
      </div>
      <div class="text-center mb-8 flex items-center space-x-2 justify-center">
        <h2 class="text-3xl font-bold tracking-tighter sm:text-4xl lg:text-5xl">
          Empresas Adherentes
        </h2>
      </div>
    </div>
    <div
      class="bg-muted mt-11 px-6 py-10 grid grid-cols-2 gap-6 items-center justify-items-center lg:flex lg:justify-center lg:gap-20"
    >
      {
        companyLogos.map((logo) => (
          <a href={logo.href || "#"} target="_blank" rel="noopener noreferrer">
            <Image
              src={logo.image}
              alt={logo.name}
              loading="eager"
              width={150}
              height={80}
              class="max-h-[70px] w-auto object-contain animate-duration-[800ms]"
              data-fade="up"
            />
          </a>
        ))
      }
    </div>
  </section>

  <section class="pt-0">
    <div class="container">
      <div class="text-center mb-12">
        <h2
          class="text-[22px] font-bold tracking-tighter sm:text-3xl md:text-4xl"
        >
          Convenios Interinstitucionales
        </h2>
        <p class="mt-4 text-muted-foreground max-w-3xl mx-auto">
          Trabajamos en colaboraci√≥n con instituciones acad√©micas,
          gubernamentales y empresas del sector para fortalecer la industria
          minera ecuatoriana y promover el desarrollo profesional.
        </p>
      </div>
    </div>
    <LogoMarquee logos={logos} speed={40} client:load />
  </section>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const images = document.querySelectorAll('img[data-fade="up"]');
      if (images.length) {
        const observer = new window.IntersectionObserver((entries, observer) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              entry.target.classList.add('animate-fade-up');
              observer.unobserve(entry.target);
            }
          });
        }, { threshold: 0.3 });
        images.forEach(img => observer.observe(img));
      }
    });
  </script>
</Layout>
