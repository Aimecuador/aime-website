---
import Layout from "@/layouts/Layout.astro";
import HeroCarousel from "@/components/HeroCarousel";
import ButtonLink from "@/components/ui/ButtonLink.astro";
import { ChevronRight } from "lucide-react";
import { Image } from "astro:assets";
import { FacebookGallery } from "@/components/sections/FacebookGallery";
import { FacebookNews } from "@/components/sections/FacebookNews";

const companyLogos = [
  {
    name: "Maccaferri logo",
    image: "/images/convenios/empresas-adherentes/maccaferri.jpg",
    href: "https://www.maccaferri.com/",
  },
  {
    name: "Tecnovoladuras logo",
    image: "/images/convenios/empresas-adherentes/tecnovoladuras.png",
    href: "https://tecnovoladuras.com/",
  },
  {
    name: "Ideal Alambrec logo",
    image: "/images/convenios/empresas-adherentes/ideal-alambrec.png",
    href: "https://idealalambrec.bekaert.com/soluciones-para-la-construccion/mineria",
  },
  {
    name: "Teincomin logo",
    image: "/images/convenios/empresas-adherentes/teincomin.png",
    href: "https://teincomin.com/web/",
  },
];

const interinstitutionalAgreements = [
  {
    name: "Gobierno Aut√≥nomo Descentralizado Municipal del Cant√≥n Ibarra",
    image: "/images/convenios/interinstitucionales/municipio-Ibarra.png",
    href: "https://www.ibarra.gob.ec/site/el-gad-municipal/",
  },
  {
    name: "Facultad de Ingenier√≠a en Geolog√≠a, Minas, Petr√≥leos y Ambiental de la Universidad Central del Ecuador",
    image: "/images/convenios/interinstitucionales/figempa.png",
    href: "https://www.uce.edu.ec/web/figempa",
  },
  {
    name: "RUDN University",
    image: "/images/convenios/interinstitucionales/rudn-university.png",
    href: "https://www.rudn.ru/",
  },
  {
    name: "C√°mara de la Industria de la Construcci√≥n",
    image: "/images/convenios/interinstitucionales/camicon.png",
    href: "https://camicon.ec/web/",
  },
  {
    name: "Seguridad y Salud Ocupacional",
    image: "/images/convenios/interinstitucionales/consisso.jpg",
    href: "https://consisso.com/",
  },
  {
    name: "Instituto de Investigaci√≥n Geol√≥gico y Energ√©tico",
    image: "/images/convenios/interinstitucionales/iige.png",
    href: "https://www.geoenergia.gob.ec/",
  },
];

const cooperationAgreements = [
  {
    name: "Alianza para el Emprendimiento e Innovaci√≥n",
    image:
      "/images/convenios/cooperacion/alianza-emprendimiento-innovacion.png",
    href: "https://www.aei.ec/",
  },
  {
    name: "CAMIPE",
    image: "/images/convenios/cooperacion/camipe.png",
  },
  {
    name: "QCS Servicios Profesionales",
    image: "/images/convenios/cooperacion/qcs.png",
    href: "https://qcs.com.ec/",
  },
  {
    name: "Universidad T√©cnica de Machachi",
    image: "/images/convenios/cooperacion/universidad-tecnica-de-machachi.png",
    href: "https://www.utmachala.edu.ec/portalwp/",
  },
  {
    name: "C√°mara de la Peque√±a Miner√≠a",
    image:
      "/images/convenios/cooperacion/camara-de-la-pequena-mineria-del-ecuador.png",
  },
  {
    name: "Intermodal Solutions Group logo",
    image: "/images/convenios/cooperacion/intermodal-solutions-group.png",
    href: "https://pittoship.com/",
  },
  {
    name: "Women In Mining",
    image: "/images/convenios/cooperacion/women-in-mining.png",
    href: "https://www.wimecuador.com/",
  },
  {
    name: "Universidad Nacional de Loja",
    image: "/images/convenios/cooperacion/universidad-nacional-de-loja.png",
    href: "https://www.unl.edu.ec/",
  },
  {
    name: "Facultad de Ingenier√≠a en Geolog√≠a, Minas, Petr√≥leos y Ambiental de la Universidad Central del Ecuador",
    image: "/images/convenios/interinstitucionales/figempa.png",
    href: "https://www.uce.edu.ec/web/figempa",
  },
];
---

<Layout
  title="AIME - Asociaci√≥n de Ingenieros de Minas del Ecuador"
  description="Somos una organizaci√≥n t√©cnica cient√≠fica que agrupa a profesionales de la industria minera ecuatoriana, con reconocimiento a nivel nacional e internacional. ¬°Forjemos juntos un futuro exitoso!"
>
  <HeroCarousel client:load />

  <!-- Noticias Section -->
  <section class="py-10">
    <div class="container mx-auto">
      <div class="flex flex-col md:flex-row md:items-end justify-between mb-12">
        <div>
          <div class="flex items-center space-x-2 mb-2">
            <div class="h-1 w-10 bg-primary"></div>
            <span
              class="text-sm font-medium uppercase tracking-wider text-muted-foreground"
            >
              Novedades
            </span>
          </div>
          <h2 class="text-3xl font-bold tracking-tighter sm:text-4xl mt-4">
            √öltima Noticia
          </h2>
          <p class="mt-4 text-muted-foreground max-w-3xl">
            Mantente informado con la publicaci√≥n m√°s reciente de AIME. Para ver
            m√°s publicaciones visita nuestra secci√≥n de revista.
          </p>
        </div>
      </div>
      <FacebookNews client:load />
    </div>
  </section>

  <!-- Galer√≠a Section -->
  <section class="py-16 md:py-24 bg-muted">
    <div class="container">
      <div class="flex flex-col md:flex-row md:items-end justify-between mb-12">
        <div>
          <div class="flex items-center space-x-2 mb-2">
            <div class="h-1 w-10 bg-primary"></div>
            <span
              class="text-sm font-medium uppercase tracking-wider text-muted-foreground"
            >
              Im√°genes
            </span>
          </div>
          <h2
            class="text-3xl font-bold tracking-tighter sm:text-4xl md:text-5xl"
          >
            Nuestra Galer√≠a
          </h2>
          <p class="mt-4 text-muted-foreground max-w-3xl">
            Explora momentos destacados de nuestras actividades, eventos y
            proyectos mineros.
          </p>
        </div>
        <ButtonLink
          href="/galeria"
          class="mt-4 mr-4 md:mt-0 self-start md:self-auto group"
        >
          Ver galer√≠a completa
          <ChevronRight
            className="ml-2 h-4 w-4 transition-transform duration-300 group-hover:translate-x-1"
          />
        </ButtonLink>
      </div>

      <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2">
        <FacebookGallery limit={8} client:load />
      </div>
    </div>
  </section>

  <!-- Services/Activities Section 
  <section class="py-16 md:py-24">
    <div class="container">
      <div class="text-center mb-12">
        <div class="flex items-center space-x-2 mb-2 justify-center">
          <div class="h-1 w-10 bg-primary"></div>
          <span class="text-sm font-medium uppercase tracking-wider text-muted-foreground">
            Lo que ofrecemos
          </span>
          <div class="h-1 w-10 bg-primary"></div>
        </div>
        <h2 class="text-3xl font-bold tracking-tighter sm:text-4xl md:text-5xl">
          Nuestros Servicios
        </h2>
        <p class="mt-4 text-muted-foreground max-w-3xl mx-auto">
          AIME ofrece una variedad de servicios y actividades para apoyar a los profesionales de la miner√≠a y promover el desarrollo sostenible del sector.
        </p>
      </div>

      <div class="grid gap-8 md:grid-cols-2">
        <div class="bg-muted rounded-lg p-6 transition-all duration-300 hover:shadow-lg hover:bg-muted/70">
          <div class="text-4xl mb-4">üéì</div>
          <h3 class="text-xl font-semibold mb-3">
            Capacitaci√≥n y asistencia t√©cnica
          </h3>
          <p class="text-muted-foreground mb-4">
            Organizamos seminarios, conferencias y talleres dirigidos a profesionales del sector minero, enfocados en seguridad en operaciones, miner√≠a responsable y construcci√≥n.
          </p>
          <ButtonLink href="/servicios" variant="outline" class="group">
            Ver m√°s
            <ChevronRight className="ml-2 h-4 w-4 transition-transform duration-300 group-hover:translate-x-1" />
          </ButtonLink>
        </div>

        <div class="bg-muted rounded-lg p-6 transition-all duration-300 hover:shadow-lg hover:bg-muted/70">
          <div class="text-4xl mb-4">ü§ù</div>
          <h3 class="text-xl font-semibold mb-3">
            Convenios de cooperaci√≥n
          </h3>
          <p class="text-muted-foreground mb-4">
            Colaboramos con entidades gubernamentales y otras organizaciones para promover el desarrollo de proyectos y actividades en el √°mbito geol√≥gico-minero.
          </p>
          <ButtonLink href="/servicios" variant="outline" class="group">
            Ver m√°s
            <ChevronRight className="ml-2 h-4 w-4 transition-transform duration-300 group-hover:translate-x-1" />
          </ButtonLink>
        </div>
      </div>
    </div>
  </section>
-->

  <!-- Convenios Interinstitucionales Section -->
  <!-- Aval Section -->
  <section class="pt-16 pb-10 md:pb-18">
    <div class="container">
      <div class="flex items-center space-x-2 mb-2 justify-center">
        <div class="h-1 w-10 bg-primary"></div>
        <span
          class="text-sm font-medium uppercase tracking-wider text-muted-foreground"
        >
          Alianzas estrat√©gicas
        </span>
        <div class="h-1 w-10 bg-primary"></div>
      </div>
      <div class="text-center mb-8 flex items-center space-x-2 justify-center">
        <h2 class="text-3xl font-bold tracking-tighter sm:text-4xl lg:text-5xl">
          Empresas Adherentes
        </h2>
      </div>
    </div>
    <div
      class="bg-muted mt-14 px-6 py-10 grid grid-cols-2 gap-6 items-center justify-items-center lg:flex lg:justify-center lg:gap-20"
    >
      {
        companyLogos.map((logo, index) => (
          <a
            href={logo.href || "#"}
            target={logo.href ? "_blank" : ""}
            rel="noopener noreferrer"
            class="transition-transform duration-[250ms] hover:-translate-y-1"
          >
            <Image
              src={logo.image}
              alt={logo.name}
              loading="eager"
              width={150}
              height={80}
              class={`w-auto object-contain animate-duration-[800ms] ${index === 0 ? "max-h-[60px]" : "max-h-20"}`}
              data-fade="up"
            />
          </a>
        ))
      }
    </div>
  </section>

  <section class="pt-0">
    <div class="container">
      <div class="text-center mb-12">
        <h2
          class="text-[22px] font-bold tracking-tighter sm:text-3xl md:text-4xl"
        >
          Relaciones Interinstitucionales
        </h2>
        <p class="mt-4 text-muted-foreground max-w-3xl mx-auto">
          Establecemos alianzas estrat√©gicas con entidades acad√©micas y
          gubernamentales para impulsar proyectos de investigaci√≥n, formaci√≥n y
          desarrollo que beneficien al sector minero ecuatoriano.
        </p>
      </div>
    </div>
    <div
      class="container px-6 pt-5 pb-14 grid grid-cols-2 md:grid-cols-3 gap-6 items-center justify-items-center"
    >
      {
        interinstitutionalAgreements.map((logo, index) => (
          <a
            href={logo.href || "#"}
            target={logo.href ? "_blank" : ""}
            rel="noopener noreferrer"
            class="transition-transform duration-[250ms] hover:-translate-y-1"
          >
            <Image
              src={logo.image}
              alt={logo.name}
              loading="eager"
              width={150}
              height={80}
              class={`w-auto object-contain animate-duration-[800ms] ${index === 3 ? "max-h-[70px]" : "max-h-24"} ${index === 5 ? "rounded-md" : ""}`}
              data-fade="up"
            />
          </a>
        ))
      }
    </div>
  </section>

  <section class="pt-0">
    <div class="container">
      <div class="text-center mb-12">
        <h2
          class="text-[22px] font-bold tracking-tighter sm:text-3xl md:text-4xl"
        >
          Convenios de Cooperaci√≥n
        </h2>
        <p class="mt-4 text-muted-foreground max-w-3xl mx-auto">
          Trabajamos en colaboraci√≥n con instituciones acad√©micas,
          gubernamentales y empresas del sector para fortalecer la industria
          minera ecuatoriana y promover el desarrollo profesional.
        </p>
      </div>
    </div>
    <div
      class="container px-6 pt-5 pb-14 grid grid-cols-2 lg:flex lg:flex-wrap lg:justify-center gap-6 items-center justify-items-center lg:gap-20"
    >
      {
        cooperationAgreements.map((logo, index) => (
          <a
            href={logo.href || "#"}
             target={logo.href ? "_blank" : ""}
            rel="noopener noreferrer"
            class="transition-transform duration-[250ms] hover:-translate-y-1"
          >
            <Image
              src={logo.image}
              alt={logo.name}
              loading="eager"
              width={150}
              height={80}
              class={`w-auto object-contain animate-duration-[800ms] ${index === 1 ? "max-h-[150px]" : "max-h-[90px]"}`}
              data-fade="up"
            />
          </a>
        ))
      }
    </div>
  </section>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const images = document.querySelectorAll('img[data-fade="up"]');
      if (images.length) {
        const observer = new window.IntersectionObserver(
          (entries, observer) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting) {
                entry.target.classList.add("animate-fade-up");
                observer.unobserve(entry.target);
              }
            });
          },
          { threshold: 0.3 }
        );
        images.forEach((img) => observer.observe(img));
      }
    });
  </script>
</Layout>
